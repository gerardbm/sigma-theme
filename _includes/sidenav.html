{%- assign t = site.data.translations -%}

{%- if page.sidenav.categories == true -%}
	{%- if page.layout == 'category' -%}
	<nav class="sidenav">
		<h3>{{ t[site.lang]['morecats'] }}</h3>
		<ul>
			{%- for category in site.categories -%}
				{%- assign current = nil -%}
				{%- assign catslug = category[0] | slugify | relative_url | append: '/' -%}
				{%- if page.url == catslug -%}
					{%- assign current = ' class="current"' -%}
				{%- endif -%}
				<li{{ current }}><a href="{{ category[0] | slugify | relative_url }}/">{{ category[0] }}</a></li>
			{%- endfor -%}
		</ul>
	</nav>
	{%- endif -%}
{%- endif -%}

{%- if page.sidenav.posts == true -%}
	{%- if page.layout == 'post' -%}
	<nav class="sidenav">
		<h3>{{ t[site.lang]['morearts'] }}</h3>
		<ul>
			{%- capture the_cat -%}{{ page.categories | first }}{%- endcapture -%}
			{%- assign posts = site.categories[the_cat] | sort: 'order' -%}
			{%- for post in posts -%}
				{%- assign current = nil -%}
				{%- if page.url == post.url -%}
					{%- assign current = ' class="current"' -%}
				{%- endif -%}
				<li{{ current }}><a href="{{ post.url | relative_url }}">{{ post.title }}</a></li>
			{%- endfor -%}
		</ul>
	</nav>
	{%- endif -%}
{%- endif -%}

{%- if page.sidenav.pages == true -%}
	{%- if page.layout == 'page' -%}
	<nav class="sidenav">
		<h3>{{ t[site.lang]['morepags'] }}</h3>
		<ul>
			{%- assign pages = site.pages -%}
			{%- for item in pages -%}
				{%- if item.layout == 'page' -%}
					{%- assign current = nil -%}
					{%- if item.url == page.url -%}
						{%- assign current = ' class="current"' -%}
					{%- endif -%}
					<li{{ current }}><a href="{{ item.url | relative_url }}">{{ item.title }}</a></li>
				{%- endif -%}
			{%- endfor -%}
		</ul>
	</nav>
	{%- endif -%}
{%- endif -%}
